<div class="modal fade" id="formNoteModal" tabindex="-1" role="dialog"
     aria-labelledby="formNoteModalLabel" aria-hidden="true"
     data-controller="form" data-form-render-root="tasksCardboard">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content" id="noteModalForm">
      <div class="modal-header">
        <h5 class="modal-title" id="formNoteModalLabel">
          <%= t('activerecord.models.note') %></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <% if noteable.present? %>
      <%= simple_form_for([noteable, note],
            remote: true,
            html: { class: 'form-horizontal' },
            data: {
              action: "ajax:success->form#onPostSuccess ajax:error->form#onPostError"
            }
          ) do |f| %>
        <div class="modal-body" data-reflex-root="noteModalForm">
          <%= f.input :description, as: :rich_text_area
             %>
          <div data-target="form.errorSuccess" class="" role="alert"></div>
        </div>
        <div class="modal-footer">
          <%= f.button :submit, class: 'btn btn-primary' %>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      <% end %>
      <% end %>
    </div>
  </div>
</div>
